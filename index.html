<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ガーデン八潮 サンド 取扱説明書</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans JP', sans-serif;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8">
        <header class="bg-white shadow-md rounded-lg p-6 mb-8">
            <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 text-center">ガーデン八潮 サンド エラーコード一覧</h1>
            <p class="text-center text-gray-500 mt-2">エラーコードや内容から対処方法を素早く確認できます。</p>
        </header>

        <!-- Error Code Content -->
        <div id="errors">
            <div class="bg-white p-6 rounded-lg shadow-md">
                <div class="mb-6">
                    <label for="search-input" class="sr-only">エラーコード検索</label>
                    <input type="text" id="search-input" placeholder="エラーコードや内容で検索..." class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                </div>
                <div id="accordion-container" class="space-y-2">
                    <!-- Accordion items will be generated by JavaScript -->
                </div>
                 <div id="no-results" class="text-center text-gray-500 p-8 hidden">
                    <p class="text-lg font-semibold">検索結果が見つかりません</p>
                    <p class="mt-2">別のキーワードでお試しください。</p>
                </div>
            </div>
        </div>
    </div>

<script>
    // --- Data ---
    const errorData = {
        "台・接続のエラー": [
            { code: "U30", message: "遊技機側検出エラー", details: "遊技機接続ケーブルを確認してください。異常がない場合は貸機の抜き差しを行ってください。" },
            { code: "P15, E12", message: "貸出異常", details: "遊技機接続ケーブルを確認し、異常がない場合は貸機の抜き差しを行ってください。" },
            { code: "E10, P11, P12", message: "遊技機接続異常", details: "遊技機接続ケーブルを確認し、異常がない場合は貸機の抜き差しを行ってください。" },
            { code: "その他", message: "遊技機異常", details: "遊技機でエラーが発生しました。遊技機接続ケーブルを確認し、異常がない場合は貸機の抜き差しを行ってください。" }
        ],
        "お札のエラー": [
            { code: "E0, E1", message: "紙幣詰まり", details: "紙幣識別機を開けて、詰まっている紙幣を取り除いてください。" },
            { code: "E3", message: "紙幣識別機異常", details: "紙幣識別機を点検してください。" },
            { code: "E4", message: "紙幣挿入エラー", details: "紙幣の挿入側方向に紙幣が引き抜かれました。紙幣識別機を点検してください。" },
            { code: "E5", message: "紙幣後部抜取エラー", details: "紙幣搬送側方向に紙幣が引き抜かれました。紙幣識別機を点検してください。" },
            { code: "EH", message: "紙幣識別機通信異常", details: "紙幣識別機で通信異常が発生しました。紙幣識別機の点検をしてください。" }
        ],
        "カードのエラー": [
            { code: "表示なし", message: "もう一度カードを入れてください", details: "カード読み取りエラーが発生しました。再度カードを挿入してもエラーが発生する場合は、カードが壊れている可能性がありますので交換してください。" },
            { code: "表示なし", message: "カード書込失敗", details: "貸機の抜き差しでカードを排出してください。再度試してもエラーの場合はカードが壊れている可能性があります。" },
            { code: "表示なし", message: "カード排出失敗", details: "貸機の抜き差しでカードを排出してください。それでもダメな場合はカードリーダユニットが故障している可能性があります。" },
            { code: "EOC, E55", message: "使用不可 このカードは使用できません", details: "無効カードが挿入されたか、カード補充/回収中に価値のあるカードを補充しようとしました。" },
            { code: "表示なし", message: "カードリーダ通信異常", details: "カードリーダユニットを確認し、貸機の抜き差しを行ってください。" },
            { code: "表示なし", message: "共有不可 / カード不足です", details: "ビジターカードがないため持玉共有または貸出ができません。ビジターカードを補充してください。" }
        ],
        "サーバー・通信のエラー": [
            { code: "E01-EFF", message: "使用不可 このカードは使用できません", details: "未登録、期限切れ、他店舗カード、情報不正など様々な原因が考えられます。預り金サーバ及び会員GWの起動や設定を確認してください。" },
            { code: "U03", message: "会員GW タイムアウトエラー", details: "会員GWとの間で通信エラーが発生しました。会員GWが起動しているか確認してください。" },
            { code: "U28", message: "預金サーバ タイムアウトエラー", details: "預り金サーバとの間で通信エラーが発生しました。預り金サーバが起動しているか確認してください。" },
            { code: "表示なし", message: "認証できません", details: "暗証番号が違います。暗証番号を確認してください。エラー解除が必要な場合もあります。" },
            { code: "c07-c0A", message: "紛失/使用不可/退会/再発行済カードです", details: "紛失・使用不可・退会・再発行済のカードです。お客様に事情を確認してください。" },
            { code: "c63,c80,S01,CFO", message: "パラメータ/内部/通信エラー", details: "貸機の台番号や会員管理システム上の設定、払出設定に矛盾がある可能性があります。設定の確認及び修正を行ってください。" }
        ],
        "玉貸し・玉詰まりのエラー": [
            { code: "表示なし", message: "玉切れ (貸玉補給路確認)", details: "玉補給路詰り、又は補給玉切れが発生しました。補給経路を確認してください。" },
            { code: "P1", message: "玉詰まり (貸玉払出し口確認)", details: "玉詰りエラーを検出しました。払出口が詰まっていないか確認してください。" },
            { code: "P2", message: "払出し異常 (貸玉補給路確認)", details: "払出動作以外での玉の払出、又はセンサ異常を検出しました。玉切りユニットを確認し、貸機の抜き差しを行ってください。" },
            { code: "FB-FF", message: "払出エラー", details: "玉切りユニットのエラーを検知しました。玉切りユニットを確認し、貸機の抜き差しをおこなってください。" }
        ],
        "計数機・玉箱のエラー": [
            { code: "表示なし", message: "玉箱外れ 玉箱確認", details: "玉箱が外れています。計数機(玉箱部)の接続を確認してください。異常がない場合は貸機の抜き差しを行ってください。" },
            { code: "表示なし", message: "計数過多/特賞外計数異常", details: "短時間または特賞時間外に多すぎる玉を計数しました。計数機を点検し、異常がなければ貸機の抜き差しを行ってください。" },
            { code: "表示なし", message: "計数部逆流/玉詰まり/未接続", details: "玉の逆流、玉詰まり、ケーブル外れを検知しました。計数機の接続等を確認し、異常がなければ貸機の抜き差しを行ってください。" },
            { code: "表示なし", message: "計数部センサ断線/異常", details: "計数機のセンサーに断線または異常が発生しました。計数機の接続を確認し、異常がなければ貸機の抜き差しを行ってください。" }
        ],
        "その他のエラー": [
            { code: "601-81F", message: "グループ店外/期限切れ/未登録カード等", details: "様々なカード関連エラーです。カードの使用者に事情を確認してください。" },
            { code: "U60", message: "持玉サーバ タイムアウトエラー", details: "持玉サーバと通信エラーが発生しました。サーバが起動しているか確認してください。" },
            { code: "U61", message: "貯玉サーバ タイムアウトエラー", details: "貯玉サーバと通信エラーが発生しました。貯玉サーバが起動しているか確認してください。" }
        ]
    };

    // --- Functions ---
    /**
     * Normalizes a string by converting it to lowercase,
     * full-width characters to half-width, and katakana to hiragana.
     * @param {string} str The string to normalize.
     * @returns {string} The normalized string.
     */
    function normalizeText(str) {
        if (!str) return '';
        let result = str.toLowerCase();
        
        // Full-width Alphanumeric to Half-width
        result = result.replace(/[Ａ-Ｚａ-ｚ０-９]/g, s => 
            String.fromCharCode(s.charCodeAt(0) - 0xFEE0)
        );
        
        // Katakana to Hiragana
        result = result.replace(/[\u30a1-\u30f6]/g, s =>
            String.fromCharCode(s.charCodeAt(0) - 0x60)
        );
        
        return result;
    }

    function createAccordion() {
        const container = document.getElementById('accordion-container');
        container.innerHTML = ''; // Clear previous content
        Object.keys(errorData).forEach((category, index) => {
            const accordionItem = document.createElement('div');
            accordionItem.className = 'border border-gray-200 rounded-lg';

            const button = document.createElement('button');
            button.className = 'accordion-button w-full flex justify-between items-center text-left p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none transition';
            button.innerHTML = `
                <span class="font-medium text-gray-700">${category}</span>
                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            `;
            
            const content = document.createElement('div');
            content.className = 'accordion-content bg-white';
            
            const tableContainer = document.createElement('div');
            tableContainer.className = 'overflow-x-auto';
            
            const table = document.createElement('table');
            table.className = 'min-w-full divide-y divide-gray-200';
            table.innerHTML = `
                <thead class="bg-gray-100">
                    <tr>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">コード/表示</th>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">エラー内容</th>
                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">対処方法</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                    ${errorData[category].map(err => `
                        <tr class="error-row">
                            <td class="px-4 py-3 whitespace-nowrap font-mono text-sm">${err.code}</td>
                            <td class="px-4 py-3 whitespace-nowrap text-sm">${err.message}</td>
                            <td class="px-4 py-3 text-sm">${err.details}</td>
                        </tr>
                    `).join('')}
                </tbody>
            `;
            tableContainer.appendChild(table);
            content.appendChild(tableContainer);
            accordionItem.appendChild(button);
            accordionItem.appendChild(content);
            container.appendChild(accordionItem);

            button.addEventListener('click', () => {
                const isOpen = content.style.maxHeight;
                // Close all accordions first
                document.querySelectorAll('.accordion-content').forEach(c => c.style.maxHeight = null);
                document.querySelectorAll('.accordion-button svg').forEach(svg => svg.style.transform = '');

                if (!isOpen) {
                    content.style.maxHeight = content.scrollHeight + "px";
                    button.querySelector('svg').style.transform = 'rotate(180deg)';
                }
            });
        });
    }

    function handleSearch() {
        const searchTerm = normalizeText(document.getElementById('search-input').value);
        const rows = document.querySelectorAll('.error-row');
        const accordions = document.querySelectorAll('#accordion-container > div');
        const noResults = document.getElementById('no-results');
        
        let totalMatches = 0;

        accordions.forEach(accordion => {
            const rowsInside = accordion.querySelectorAll('.error-row');
            let matchesInCategory = 0;
            rowsInside.forEach(row => {
                const text = normalizeText(row.textContent);
                if (text.includes(searchTerm)) {
                    row.style.display = '';
                    matchesInCategory++;
                    totalMatches++;
                } else {
                    row.style.display = 'none';
                }
            });

            if (searchTerm.length > 0 && matchesInCategory > 0) {
                 accordion.style.display = '';
                 // Automatically open accordion if it has a match and is not already open
                 const content = accordion.querySelector('.accordion-content');
                 if (!content.style.maxHeight) {
                    content.style.maxHeight = content.scrollHeight + "px";
                    accordion.querySelector('svg').style.transform = 'rotate(180deg)';
                 }
            } else if (searchTerm.length > 0) {
                accordion.style.display = 'none';
            } else {
                 accordion.style.display = '';
                 const content = accordion.querySelector('.accordion-content');
                 content.style.maxHeight = null; // Close on clear search
                 accordion.querySelector('svg').style.transform = '';
            }
        });
        
        noResults.style.display = (totalMatches === 0 && searchTerm.length > 0) ? 'block' : 'none';

    }

    // --- Initial Load ---
    document.addEventListener('DOMContentLoaded', () => {
        createAccordion();
        document.getElementById('search-input').addEventListener('input', handleSearch);
    });

</script>

</body>
</html>




